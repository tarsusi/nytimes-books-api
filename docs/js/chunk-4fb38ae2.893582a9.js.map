{"version":3,"sources":["webpack:///./src/views/BestSellersBooks.vue?a836","webpack:///src/views/BestSellersBooks.vue","webpack:///./src/views/BestSellersBooks.vue?b38a","webpack:///./src/views/BestSellersBooks.vue?bff4","webpack:///./src/views/BestSellersBooks.vue?47b9","webpack:///./node_modules/core-js/modules/es6.function.name.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","categoryDisplayName","attrs","allowClear","placeholder","on","change","onDateChange","bordered","size","columns","dataSource","tableData","loading","pagination","rowKey","record","rank","scopedSlots","_u","key","fn","text","type","click","$event","goBookDetails","staticRenderFns","title","dataIndex","width","customRender","BestSellersBooksvue_type_script_lang_js_","data","showSizeChanger","showQuickJumper","mounted","fetchBookCategories","methods","_this","publishedDate","arguments","length","undefined","categoryName","$route","params","name","Object","bookApi","then","booksByDate","books","display_name","map","book","primary_isbn13","rank_last_week","weeks_on_list","book_details","catch","$router","push","isbn","date","views_BestSellersBooksvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BestSellersBooks_vue_vue_type_style_index_0_id_65983918_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BestSellersBooks_vue_vue_type_style_index_0_id_65983918_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","get","match","e"],"mappings":"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","file":"js/chunk-4fb38ae2.893582a9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"best-sellers-books-container\"},[_c('span',{staticClass:\"best-sellers-books-title\"},[_vm._v(\"Best Sellers Books \"+_vm._s(_vm.categoryDisplayName && (\"of \" + _vm.categoryDisplayName)))]),_c('div',{staticClass:\"best-sellers-books-date-picker-container\"},[_c('div',{staticClass:\"date-picker-information\"},[_vm._v(\"Select the date the best sellers list was published\")]),_c('a-date-picker',{attrs:{\"allowClear\":\"\",\"placeholder\":\"Published Date\"},on:{\"change\":_vm.onDateChange}})],1),_c('div',{staticClass:\"best-sellers-books\"},[_c('a-table',{attrs:{\"bordered\":\"\",\"size\":\"small\",\"columns\":_vm.columns,\"dataSource\":_vm.tableData,\"loading\":_vm.loading,\"pagination\":_vm.pagination,\"rowKey\":function (record) { return record.rank; }},scopedSlots:_vm._u([{key:\"goBookDetails\",fn:function(text, record){return [_c('a-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.goBookDetails(record)}}},[_vm._v(\"\\n          Details\\n          \"),_c('a-icon',{attrs:{\"type\":\"right\"}})],1)]}}])})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"best-sellers-books-container\">\n    <span\n      class=\"best-sellers-books-title\"\n    >Best Sellers Books {{ categoryDisplayName && `of ${categoryDisplayName}` }}</span>\n    <div class=\"best-sellers-books-date-picker-container\">\n      <div class=\"date-picker-information\">Select the date the best sellers list was published</div>\n      <a-date-picker allowClear @change=\"onDateChange\" placeholder=\"Published Date\"/>\n    </div>\n    <div class=\"best-sellers-books\">\n      <a-table\n        bordered\n        size=\"small\"\n        :columns=\"columns\"\n        :dataSource=\"tableData\"\n        :loading=\"loading\"\n        :pagination=\"pagination\"\n        :rowKey=\"record => record.rank\"\n      >\n        <template slot=\"goBookDetails\" slot-scope=\"text, record\">\n          <a-button @click=\"goBookDetails(record)\" type=\"primary\" size=\"small\">\n            Details\n            <a-icon type=\"right\"></a-icon>\n          </a-button>\n        </template>\n      </a-table>\n    </div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport { getBestSellersBooks } from '@/services/bookApi';\n\nconst columns = [\n  {\n    title: 'Rank',\n    dataIndex: 'rank',\n    width: '5%',\n  },\n  {\n    title: 'Book Title',\n    dataIndex: 'title',\n  },\n  {\n    title: 'ISBN',\n    dataIndex: 'primary_isbn13',\n    width: '20%',\n  },\n  {\n    title: 'Rank Last Week',\n    dataIndex: 'rank_last_week',\n    width: '10%',\n  },\n  {\n    title: 'Weeks on List',\n    dataIndex: 'weeks_on_list',\n    width: '10%',\n  },\n  {\n    title: 'Actions',\n    width: '10%',\n    scopedSlots: { customRender: 'goBookDetails' },\n  },\n];\n\nexport default {\n  data() {\n    return {\n      categoryDisplayName: '',\n      pagination: {\n        showSizeChanger: true,\n        showQuickJumper: true,\n      },\n      tableData: [],\n      loading: false,\n      columns,\n    };\n  },\n  mounted() {\n    this.fetchBookCategories();\n  },\n  methods: {\n    fetchBookCategories(publishedDate = 'current') {\n      this.loading = true;\n      const categoryName = this.$route.params.name;\n\n      getBestSellersBooks(categoryName, publishedDate)\n        .then((booksByDate) => {\n          this.loading = false;\n\n          if (booksByDate && booksByDate.books && booksByDate.books.length > 0) {\n            this.categoryDisplayName = booksByDate.display_name;\n\n            // eslint-disable-next-line arrow-parens\n            this.tableData = booksByDate.books.map((book) => ({\n              primary_isbn13: book.primary_isbn13,\n              rank: book.rank,\n              rank_last_week: book.rank_last_week,\n              weeks_on_list: book.weeks_on_list,\n              title: book.title,\n              book_details: book,\n            }));\n          }\n        })\n        .catch(() => {\n          this.loading = false;\n        });\n    },\n    goBookDetails(book) {\n      const { name } = this.$route.params;\n\n      this.$router.push({\n        name: 'book-details',\n        params: {\n          name,\n          isbn: book.primary_isbn13,\n          book: book.book_details,\n        },\n      });\n    },\n    onDateChange(date, publishedDate) {\n      this.fetchBookCategories(publishedDate);\n    },\n  },\n  name: 'categories',\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.best-sellers-books-container {\n  text-align: left;\n\n  padding: 24px;\n\n  .best-sellers-books-title {\n    display: inline-block;\n\n    font-size: 24px;\n\n    margin-bottom: 16px;\n\n    border-bottom: 1px solid #e10963;\n  }\n\n  .best-sellers-books-date-picker-container {\n    display: flex;\n    align-items: center;\n\n    margin: 16px 0 32px;\n\n    .date-picker-information {\n      padding-right: 16px;\n\n      font-weight: bold;\n    }\n  }\n\n  /deep/ .best-sellers-books {\n    .ant-table-wrapper .ant-table-body {\n      margin: 0px;\n\n      .ant-table-row:nth-child(2n) {\n        background-color: rgba(#b5b5b5, 0.5);\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BestSellersBooks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BestSellersBooks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BestSellersBooks.vue?vue&type=template&id=65983918&scoped=true&\"\nimport script from \"./BestSellersBooks.vue?vue&type=script&lang=js&\"\nexport * from \"./BestSellersBooks.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BestSellersBooks.vue?vue&type=style&index=0&id=65983918&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65983918\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BestSellersBooks.vue?vue&type=style&index=0&id=65983918&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BestSellersBooks.vue?vue&type=style&index=0&id=65983918&lang=scss&scoped=true&\"","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n"],"sourceRoot":""}